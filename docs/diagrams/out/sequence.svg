<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="572px" preserveAspectRatio="none" style="width:669px;height:572px;background:#FFFFFF;" version="1.1" viewBox="0 0 669 572" width="669px" zoomAndPan="magnify"><defs><filter height="1" id="b1lkjuehs9v2z00" width="1" x="0" y="0"><feFlood flood-color="#000000" result="flood"/><feComposite in="SourceGraphic" in2="flood" operator="over"/></filter></defs><g><rect fill="#DDDDDD" height="553.2793" style="stroke:#181818;stroke-width:0.5;" width="409.5" x="127" y="6"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="72" x="295.75" y="18.5684">AWS Cloud</text><rect fill="#CD2264" height="28.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="190.5" y="167.4199"/><rect fill="#CD2264" height="84.3984" style="stroke:#181818;stroke-width:1.0;" width="10" x="190.5" y="336.2168"/><rect fill="#CD2264" height="84.3984" style="stroke:#181818;stroke-width:1.0;" width="10" x="190.5" y="462.8809"/><rect fill="#3F8624" height="28.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="351.5" y="223.6855"/><rect fill="#3F8624" height="28.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="351.5" y="364.3496"/><rect fill="#D86613" height="28.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="479" y="491.0137"/><rect fill="#3A47CB" height="28.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="598" y="279.9512"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="23" x2="23" y1="137.2871" y2="565.2793"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="195" x2="195" y1="137.2871" y2="565.2793"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="356.5" x2="356.5" y1="137.2871" y2="565.2793"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="483.5" x2="483.5" y1="137.2871" y2="565.2793"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="602.5" x2="602.5" y1="137.2871" y2="565.2793"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="31" x="5" y="134.334">User</text><ellipse cx="23.5" cy="69.2988" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M23.5,77.2988 L23.5,104.2988 M10.5,85.2988 L36.5,85.2988 M23.5,104.2988 L10.5,119.2988 M23.5,104.2988 L36.5,119.2988 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><rect fill="#FFFFFF" height="110.9766" rx="2.5" ry="2.5" style="stroke:#FF9900;stroke-width:0.5;" width="129" x="131" y="25.3105"/><image height="64" width="64" x="163.5" xlink:href="data:image/png;base64,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" y="32.3105"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="111" x="138" y="109.8457">CloudFront with</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="100" x="145.5" y="126.334">Lambda@Edge</text><rect fill="#FFFFFF" height="94.4883" rx="2.5" ry="2.5" style="stroke:#FF9900;stroke-width:0.5;" width="138" x="287.5" y="41.7988"/><image height="64" width="64" x="324.5" xlink:href="data:image/png;base64,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" y="48.7988"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="124" x="294.5" y="126.334">Cognito User Pool</text><rect fill="#FFFFFF" height="110.9766" rx="2.5" ry="2.5" style="stroke:#FF9900;stroke-width:0.5;" width="97" x="435.5" y="25.3105"/><image height="64" width="64" x="452" xlink:href="data:image/png;base64,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" y="32.3105"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="83" x="442.5" y="109.8457">Origin static</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="67" x="450.5" y="126.334">resources</text><rect fill="#FFFFFF" height="94.4883" rx="2.5" ry="2.5" style="stroke:#FF9900;stroke-width:0.5;" width="121" x="542.5" y="41.7988"/><image height="64" width="64" x="571" xlink:href="data:image/png;base64,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" y="48.7988"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="107" x="549.5" y="126.334">Active Directory</text><rect fill="#CD2264" height="28.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="190.5" y="167.4199"/><rect fill="#CD2264" height="84.3984" style="stroke:#181818;stroke-width:1.0;" width="10" x="190.5" y="336.2168"/><rect fill="#CD2264" height="84.3984" style="stroke:#181818;stroke-width:1.0;" width="10" x="190.5" y="462.8809"/><rect fill="#3F8624" height="28.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="351.5" y="223.6855"/><rect fill="#3F8624" height="28.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="351.5" y="364.3496"/><rect fill="#D86613" height="28.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="479" y="491.0137"/><rect fill="#3A47CB" height="28.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="598" y="279.9512"/><polygon fill="#666666" points="178.5,163.4199,188.5,167.4199,178.5,171.4199" style="stroke:#666666;stroke-width:1.0;"/><line style="stroke:#666666;stroke-width:1.0;" x1="23.5" x2="184.5" y1="167.4199" y2="167.4199"/><text fill="#FFFFFF" filter="url(#b1lkjuehs9v2z00)" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="16" x="50.5" y="162.8887"> 1 </text><text fill="#666666" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="93" x="70.5" y="162.8887">No token cookie</text><polygon fill="#666666" points="34.5,191.5527,24.5,195.5527,34.5,199.5527" style="stroke:#666666;stroke-width:1.0;"/><line style="stroke:#666666;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="28.5" x2="194.5" y1="195.5527" y2="195.5527"/><text fill="#666666" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="28" x="85.5" y="191.0215">307:</text><text fill="#FFFFFF" filter="url(#b1lkjuehs9v2z00)" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="16" x="117.5" y="191.0215"> 2 </text><polygon fill="#666666" points="339.5,219.6855,349.5,223.6855,339.5,227.6855" style="stroke:#666666;stroke-width:1.0;"/><line style="stroke:#666666;stroke-width:1.0;" x1="23.5" x2="345.5" y1="223.6855" y2="223.6855"/><text fill="#FFFFFF" filter="url(#b1lkjuehs9v2z00)" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="16" x="113.5" y="219.1543"> 3 </text><text fill="#666666" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="128" x="133.5" y="219.1543">GET oauth2/authorize</text><polygon fill="#666666" points="34.5,247.8184,24.5,251.8184,34.5,255.8184" style="stroke:#666666;stroke-width:1.0;"/><line style="stroke:#666666;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="28.5" x2="355.5" y1="251.8184" y2="251.8184"/><text fill="#666666" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="28" x="166" y="247.2871">302:</text><text fill="#FFFFFF" filter="url(#b1lkjuehs9v2z00)" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="16" x="198" y="247.2871"> 4 </text><polygon fill="#666666" points="586,275.9512,596,279.9512,586,283.9512" style="stroke:#666666;stroke-width:1.0;"/><line style="stroke:#666666;stroke-width:1.0;" x1="23.5" x2="592" y1="279.9512" y2="279.9512"/><text fill="#FFFFFF" filter="url(#b1lkjuehs9v2z00)" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="16" x="259.25" y="275.4199"> 5 </text><text fill="#666666" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="83" x="279.25" y="275.4199">Microsoft login</text><polygon fill="#666666" points="34.5,304.084,24.5,308.084,34.5,312.084" style="stroke:#666666;stroke-width:1.0;"/><line style="stroke:#666666;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="28.5" x2="602" y1="308.084" y2="308.084"/><text fill="#666666" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="28" x="289.25" y="303.5527">302:</text><text fill="#FFFFFF" filter="url(#b1lkjuehs9v2z00)" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="16" x="321.25" y="303.5527"> 6 </text><polygon fill="#666666" points="178.5,332.2168,188.5,336.2168,178.5,340.2168" style="stroke:#666666;stroke-width:1.0;"/><line style="stroke:#666666;stroke-width:1.0;" x1="23.5" x2="184.5" y1="336.2168" y2="336.2168"/><text fill="#FFFFFF" filter="url(#b1lkjuehs9v2z00)" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="16" x="33" y="331.6855"> 7 </text><text fill="#666666" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="128" x="53" y="331.6855">index.html&amp;code=xxx</text><polygon fill="#666666" points="339.5,360.3496,349.5,364.3496,339.5,368.3496" style="stroke:#666666;stroke-width:1.0;"/><line style="stroke:#666666;stroke-width:1.0;" x1="200.5" x2="345.5" y1="364.3496" y2="364.3496"/><text fill="#FFFFFF" filter="url(#b1lkjuehs9v2z00)" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="16" x="210" y="359.8184"> 8 </text><text fill="#666666" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="112" x="230" y="359.8184">POST oauth2/token</text><polygon fill="#666666" points="211.5,388.4824,201.5,392.4824,211.5,396.4824" style="stroke:#666666;stroke-width:1.0;"/><line style="stroke:#666666;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="205.5" x2="355.5" y1="392.4824" y2="392.4824"/><text fill="#FFFFFF" filter="url(#b1lkjuehs9v2z00)" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="16" x="270.5" y="387.9512"> 9 </text><polygon fill="#666666" points="34.5,416.6152,24.5,420.6152,34.5,424.6152" style="stroke:#666666;stroke-width:1.0;"/><line style="stroke:#666666;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="28.5" x2="194.5" y1="420.6152" y2="420.6152"/><text fill="#FFFFFF" filter="url(#b1lkjuehs9v2z00)" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="24" x="97.5" y="416.084"> 10 </text><polygon fill="#666666" points="178.5,458.8809,188.5,462.8809,178.5,466.8809" style="stroke:#666666;stroke-width:1.0;"/><line style="stroke:#666666;stroke-width:1.0;" x1="23.5" x2="184.5" y1="462.8809" y2="462.8809"/><text fill="#FFFFFF" filter="url(#b1lkjuehs9v2z00)" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="24" x="47" y="444.2168"> 11 </text><text fill="#666666" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="88" x="75" y="444.2168">index.html with</text><text fill="#666666" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="73" x="70.5" y="458.3496">token cookie</text><polygon fill="#666666" points="467,487.0137,477,491.0137,467,495.0137" style="stroke:#666666;stroke-width:1.0;"/><line style="stroke:#666666;stroke-width:1.0;" x1="200.5" x2="473" y1="491.0137" y2="491.0137"/><text fill="#FFFFFF" filter="url(#b1lkjuehs9v2z00)" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="24" x="327.75" y="486.4824"> 12 </text><polygon fill="#666666" points="211.5,515.1465,201.5,519.1465,211.5,523.1465" style="stroke:#666666;stroke-width:1.0;"/><line style="stroke:#666666;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="205.5" x2="483" y1="519.1465" y2="519.1465"/><text fill="#FFFFFF" filter="url(#b1lkjuehs9v2z00)" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="24" x="330.25" y="514.6152"> 13 </text><polygon fill="#666666" points="34.5,543.2793,24.5,547.2793,34.5,551.2793" style="stroke:#666666;stroke-width:1.0;"/><line style="stroke:#666666;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="28.5" x2="194.5" y1="547.2793" y2="547.2793"/><text fill="#FFFFFF" filter="url(#b1lkjuehs9v2z00)" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="24" x="97.5" y="542.748"> 14 </text><!--MD5=[bf5e1ff85677cbe4074d53ff1aa3d918]
@startuml Secure S3 with OAuth2 - sequence
!define AWSPuml https://raw.githubusercontent.com/awslabs/aws-icons-for-plantuml/v13.1/dist
!include AWSPuml/AWSCommon.puml
!include AWSPuml/NetworkingContentDelivery/CloudFront.puml
!include AWSPuml/SecurityIdentityCompliance/Cognito.puml
!include AWSPuml/Storage/SimpleStorageService.puml
!include AWSPuml/SecurityIdentityCompliance/DirectoryServiceSimpleAD.puml

!include AWSPuml/AWSSimplified.puml

'Comment out to use default PlantUML sequence formatting
skinparam participant {
    BackgroundColor AWS_BG_COLOR
    BorderColor AWS_BORDER_COLOR
}

'Hide the bottom boxes / Use filled triangle arrowheads
hide footbox
skinparam style strictuml

!procedure $stepnum($number) 
<back:black><color:white><b> $number </b></color></back>
!endprocedure

actor User as user
box AWS Cloud
'Instead of using ...Participant(), native creole img tags can be used
participant "$CloudFrontIMG()\nCloudFront with \nLambda@Edge" as cloudFront
participant "$CognitoIMG()\nCognito User Pool" as cognito
participant "$SimpleStorageServiceIMG()\nOrigin static\nresources" as origin
endbox
participant "$DirectoryServiceSimpleADIMG()\nActive Directory" as ad

'Use shortcut syntax for activation with colored lifelines and return keyword
user -> cloudFront++ AWS_COLOR_PINK: $stepnum("1") No token cookie
return 307: $stepnum("2")
user -> cognito++ AWS_COLOR_GREEN: $stepnum("3") GET oauth2/authorize
return 302: $stepnum("4")
user -> ad++ AWS_COLOR_BLUE: $stepnum("5") Microsoft login
return 302: $stepnum("6")
user -> cloudFront++ AWS_COLOR_PINK: $stepnum("7") index.html&code=xxx
cloudFront -> cognito++ AWS_COLOR_GREEN: $stepnum("8") POST oauth2/token
return $stepnum("9")
return $stepnum("10")
user -> cloudFront++ AWS_COLOR_PINK: $stepnum("11") index.html with token cookie
cloudFront -> origin++ AWS_COLOR_ORANGE: $stepnum("12")
return $stepnum("13")
return $stepnum("14")
@enduml

@startuml Secure S3 with OAuth2 - sequence





skinparam defaultTextAlignment center

skinparam PackageTitleAlignment Left

skinparam wrapWidth 200
skinparam maxMessageSize 150

skinparam rectangle {
    StereotypeFontSize 12
}

skinparam Arrow {
    Color #666666
    FontColor #666666
    FontSize 12
}














sprite $CloudFront [64x64/16z] {
xLQ5hYCn31p7xF__twCsMkyxR-50s155mO5G_ITyy46wcxdd7uqr9jn1R6_EuGm0RExk9Wo0erv6B81T0ElphLTd443oDerL_j9l103wal1rSBLo0Y2bf14B
AvzpfxvCWCnvrnWedWq7_2GbgsfXsm34O_9qxh2egagH1v-74XQyElZNI4PjE5PTGyyMQpXMf8AFEeC-4B_EiqafWBFj2t7DldUyBHigNjw6vAM2W5HrfVCG
WTS8xijdTrfXlONdxC2NCedcTJhinCljt6PTcStqDn5PI-iCwWxC0hP9II3wQh9sEOj6-R9vUDj9hRMVYYazLbxB2zm8ZslQj8KS06XvGUxzyqg0moVxDUuh
vIysHMGvcXv7UI3b814WImcj8tWSFv1osfUb4yXRWWF_ST9ih7OGZ66dZGcvzUfzQyenNeVy6a56TUZjrWolcZlqsYbw1rLbn9FzQ_0cf2EY1C2Ao_FJnyLm
mmdO59HNvxVN1so-6XnwVN_izd6ymmxT2h- -FoV-koeX3-_FYji2aF5ToTkLneYwWi1QVWr1-_qsI5s3u5LCGpZA4dilF7a_zOAXSmKedhxVu_4aAOC0ySB_
0Ql6102AL_ulGFxkREO2vOl_9_xICR44aBV-RzMWxVYy_7zakVyV5m3s__z_dV_FaVMVyC47tm4
}


skinparam rectangle<<CloudFront>> {
    BackgroundColor #FFFFFF
    BorderColor #FF9900
}
sprite $Cognito [64x64/16z] {
xTG5jXin44JHwfQQQlyBpj7OCiF8uUHVCxnXYV-6Br-ywGvMVAn3T0S87oeqxk7m9zy7Tq5xqYTtaRrzuLvVwjLkG9Twc-zu99_q9e36-zxZcXzwXVO6-A6F
mBF-tkXjUov5ZXu0rjOFvP3eS_rB-r-Z6z3c_l_IdeewxjvdVK2JT0ZVzuP9PbzjVhDZ_T6cVkm3w66jkIkqbhS_8SaZWoxtWkA98J9VzdMmlOvUuBoG9FSS
l_7QHWzPcp_ID-Crjhv_v_pZFAimyoGpT_SJoMpdos1dJpjV30wqo4eJQEtjpnoQfxTIV23WV2QWZpzS4dWyKdCCJlPuJIbuA1amJk6a21-fy4UA_RpwW1GD
nHKg5tcEvrZhbSmsy_7Yoxr1PxxSDnHfq6DEGtA58qOrSwfmIM4BehW9TAxnow84nKKD_U8o2ovh4AzHTunydG4G0Q39ZvHtrMR9VyUNBzy
}


skinparam rectangle<<Cognito>> {
    BackgroundColor #FFFFFF
    BorderColor #FF9900
}
sprite $SimpleStorageService [64x64/16z] {
xPO5akKm34IVsBh_WPSfgT4eIuN_5IRcxZRq_-35YrELdwcgtssPhi85iNZOIxa0ekQPzPdCS5C0ZTCB8I2URzIhCC3gtR45UM-CCh2vF93Sf76OEYYiTmeP
Ifn-Gd2c0k-T8zCm2RgQdC2yCj1SiY5e3-370Pty5v3eMUKlFQS9tmBe7fdkRgfyHhsw3z43Aj_p7tRT0AB-FVz5ze1nr_hKEUVkqgYn3yu-JKbIlQBCzd2N
9j3xb4Hxuk3t7zn_NUrRoWw0dViO8o9tHSJickeYUyGOjhn4VoF6-Cm6dX3mywtAJT9dsKZzjhMCOAnLvBid5vQYNS9P39mdWNWwiHWu4dncpBdeUdhcgUe9
bNNyUhYvPeVtitb9s4mo6xWBD1vkpmt2b_xzsVpMWEu6xlRj-kxsxHNsxfyVmI9hlcEtRwknzpvZs9aNn-aD0urwex61LE-K0QXvP7qXmrK0ZNv8XGaNrFFy
uVivw_H_uiMBZm
}


skinparam rectangle<<SimpleStorageService>> {
    BackgroundColor #FFFFFF
    BorderColor #FF9900
}
sprite $DirectoryServiceSimpleAD [64x64/16z] {
xPO5cbin30PhcMJD_U_RTKdz75AKSdV2CAR_6JxymKXvIM_mKW70V44V09BlF9kLzXNQVYJrkkikO4dVs7qVC59w_pBsbikmyCLhe0b_Gl_yRa7DP6V-zjaC
lL9lIfopqmN8PETHF9kXX-x5FPdTxUx4itFY6NfWPvofx18PUcVFopcSNRa-dHBPEGO1-_Q28TgZYzQzuajzG-ulMjUHeJXhU4QHAxKR9pRYexpOh3dQfi_5
niwWRgKyWI57TmnMy2hpgewnBh6hd6i5Dq1YsR6PJRogDetjnxBZ6xPKpREGs2e3sXTdV1CaDaC-_rJxr6Llw1ojR0E9pT1hHRllsULypoxlBwX9tnUjl6zG
ShulMZdVDvoyhw3j9lMHBznd_an_8ssJQt-0t-s_-uPTpcunY1_6MLs-b_i2vXCdmetftAW1haUGoObwbqBKhilOsDBnHNxd8m
}


skinparam rectangle<<DirectoryServiceSimpleAD>> {
    BackgroundColor #FFFFFF
    BorderColor #FF9900
}



hide stereotype





skinparam participant {
    BackgroundColor #FFFFFF
    BorderColor #FF9900
}

hide footbox
skinparam style strictuml


actor User as user
box AWS Cloud
participant "<img data:image/png;base64,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{scale=1}>\nCloudFront with \nLambda@Edge" as cloudFront
participant "<img data:image/png;base64,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{scale=1}>\nCognito User Pool" as cognito
participant "<img data:image/png;base64,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{scale=1}>\nOrigin static\nresources" as origin
endbox
participant "<img data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAIGNIUk0AAHomAACAhAAA+gAAAIDoAAB1MAAA6mAAADqYAAAXcJy6UTwAAAAEZ0FNQQAAsY58+1GTAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAAOxAAADsQBlSsOGwAAB3tJREFUeNrtW31sU1UUP+e9tX0d4ADXdnwYUNBENHwn8s26zcxoBEQliERQouAfymdARXQKCiKErxj1DyNINAKJH2D4ElZAFDVCJAjBADp0wNoCspWtr117r+f23UfGGGHduq7rdpLX++7re7f3/O655/zOva8AbdK6RU32D+6zO4c+bclSNkYC5a0OgGLN9QIV3yicPfucNeuL9ZFARXMDoCTrh/Z06Ha7AnxprILQMcoj76WCBSQNADVS/RYH6GzWEWBisd05vFUA4LG67gcO02MVDldMDJDjmqIkDkLzWYDCV9FnhnGOMxBhq/EFHzRKc0xNawCKra6xVBTI6kF30LuJMz6XzkPGVMB3D0J2h7QEYDv0tqHCV8o5z5jCZopzd8h/Gjmskbe5wjZlUVoCYLeXz6KilzH1+af5VRePmN9lhNgSKsoMZwAve2yO3mkFgKedIwc4LpSjXxFVjXNTRsDFAIFiXiNLwZXpZQFRFDE/Nrc5wuKCSp+39i0HdP96gudw7B4OY/bZnA+mBQCezOzBNOrPyOopf9Cxtq77KAQyjnxmbIYYQK3ymNGipQLAxZRmyhou26ZYP3cCHA/f7P68oO9HuvdLWb0PbY4XWzQAHs31FCk0TM793bkh77ZbskTMWED3Vkl6VCRoc4sEYBt0zUTgJsevjjBldn2eGx08/y+BtlxaUGdBm1skAO20yCtUdDcGEj8sCJedqO+zNt26nKzgHzmPpsfoc0sCYK/WpQcpME9WL6lWvSie54dBaZAjzjdpAtHn1S0KABWYMGG7DGlvjCwv/y/eNgRNpuIHWc33ZDrHtQgA9mmOkURqnpR57rGLId/HDW2L6PIsQZuNCqwQdDqlARDpLKe01nD6scA+awLRoIa2J+iyoM2y2kvS6dQFIFdzTSPVB0jn9XW+7i1ubJvhDOU1QZ+NNnHhgczsLikJwPfQKYt6uERWQ1HEeYnoVOFVr0/QZ1ntEGHqOykJQIbNsojitlMu8Kwq0L1/Japjkj6fMtgkfyzlANhjy76H0tiXZPUC6CyhoxSjz4gin9hDPuHNpgIAG0x57a7vKN49IjOAqW7dvyEZcfs3AEtAy+mmMLQzhbuuy0MY+JlNLSsInLtUbytukPI2x0Om8oTgr6N1/2dNoaxIrIrtzqEqh0KqDqH6gACAQ8RHVoftIl1TqxkNjrOcHj5Gxy/Uv11VodsOPAynQwmxAGMEHEfp0XtjPhpheG7QdyiRim8mPRw2xwyaArPNFaVGmrmPio9COi4vBG9lowDw2FwzySuZNPVzt+6bnEjlRWSxaJbtZkZZQ6jjnHILFPlFCY3uBeqHXsNaVAS8g84oF1Hupkt96bxTrTbOMLKm/JDvTIOmgKdD12yojpoOqZJhdEGizV7VLOtqKH+VrGA9cra5ve7/eTBlmHHlJ5nZA5Ep42iUn6dqjrAmNWZgMKhhPqA6ImKzRBWX5QcvnUu4V0YYY6wP4cmoynMLKr3exrBKKo5Qmr6svRb5SlAM4hcDPfbO3d3By6VxhcE9VieZVAxJiJmgbl/RFE6PPrJkrYfKYPJP0N3eqAUaGmRSfjydDrx2MWrpGLcFqLH0FFVjlPj8XCjRmzji2QmMFSEtXLQPnFs5oEdR2OHKqqwTN/PoZm4y2urqwxXoi8Dc1NtH6bKrUWGQQtF46oxbGul+8vpbkrhs154sYxJZxCTGEOxaBY2q86LwDzS3zxNJkuuN2FOsq9DRRdgS1tPH3xKA2O4OrzDNPQoqm5UkxXeRqe2k9HIK6dG/1nfZ4iBgetZDyRI6NkgnOD1uADQtIPbx7pR4fpJb6f89OfrzK+6gT4Tb1SL68FB0OCXe/agPdwn/QL1xiFW4mi6arp+jUHieyhKOyjHGlUP5+oWzxpqFcxGP1wJ2Z2Z3RcZflR7qimJRXodmEHfgvDD5b+WRvGTIyhSxu9M+pr8Ci0ddLfNDmolyc8fneoAKk+X9eVvQtw7SUJSbxWPKwVebuzuc8znxsrAWDcB+zSlGfois7sgL+bdDmopyI3NyiLi79JpnZdE5kMZyowVoIHZ3uhlzgX/gDl862WoA2K+5KN7jXHNZDuzJ26NrLrmOBzDO3ye2o8ms7BDXLWM9mqPpKQ9iAIOZ5GdKQs0GQLHF2Y+Uf/xapzilpYBjktEJJKfDtaqNoMOUZpsCiCh2cyLQyuSaBbjD3j+KrTn9UYkOTnYnCPwKCGbuaHYfkBcuO07F8eYaDd6IZfomyQVag7QB0AZAGwBtAKSMoPHGaKlxju5im7MwEe2KDRIOOEn+Bsuw6+dq/GZqiVy7e7sGKkeJK2+hcq8taDkq3ia7VRtiLyBqdfZRVcwT7xZQe6NqBNtNbt0/MWUBKCKrHGVzLqNcRKThdf2r7W9S4qxY/CTFar2Cy3vS9a7cWMS11ME0NoV1ZVrNDVJM1bkpchNUQewOPwHXr/7GO63C9LGTcVybp3v31vF9aovYl9C0wAgUK1Sci5exelGvxRp/Ti1FKmjkL1NidZk8WykpfFzhlNGGmMcN/qtp68Ubu3fYJm3SyuV//NqG8TCTT6YAAAAASUVORK5CYII={scale=1}>\nActive Directory" as ad

user -> cloudFront++ #CD2264: <back:black><color:white><b> 1 </b></color></back> No token cookie
return 307: <back:black><color:white><b> 2 </b></color></back>
user -> cognito++ #3F8624: <back:black><color:white><b> 3 </b></color></back> GET oauth2/authorize
return 302: <back:black><color:white><b> 4 </b></color></back>
user -> ad++ #3A47CB: <back:black><color:white><b> 5 </b></color></back> Microsoft login
return 302: <back:black><color:white><b> 6 </b></color></back>
user -> cloudFront++ #CD2264: <back:black><color:white><b> 7 </b></color></back> index.html&code=xxx
cloudFront -> cognito++ #3F8624: <back:black><color:white><b> 8 </b></color></back> POST oauth2/token
return <back:black><color:white><b> 9 </b></color></back>
return <back:black><color:white><b> 10 </b></color></back>
user -> cloudFront++ #CD2264: <back:black><color:white><b> 11 </b></color></back> index.html with token cookie
cloudFront -> origin++ #D86613: <back:black><color:white><b> 12 </b></color></back>
return <back:black><color:white><b> 13 </b></color></back>
return <back:black><color:white><b> 14 </b></color></back>
@enduml

PlantUML version 1.2022.7(Mon Aug 22 19:01:30 CEST 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: pl
Country: PL
--></g></svg>